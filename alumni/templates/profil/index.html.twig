{% extends 'base.html.twig' %}

{% block content_title %}
	{{app.user.name}}
	{{app.user.nickname}}
{% endblock %}

{% block content_body %}

	<div class="__row">
			<div class="__col ">
			<div
				class="input__containerButton">
				{# Formulaire Modification profil (photo et informations) #}
				{{form_start(editForm)}}
				<div class="container__img">

					<img class="profil__photo" onerror="this.onerror=null; this.src='/images/avatar/avatar.png'" src="/images/avatar/{{ app.user.photo }}"/>

					{{form_widget(editForm.photo)}}
					{{form_errors(editForm.photo)}}
				</div>
			</div>
		</div>
	</div>

	<div class="__row">
		<div class="__col  __col--half">
			<div class="input__container profile__name">
				{{form_label(editForm.name,' ')}}
				{{form_widget(editForm.name,{'attr':{'placeholder':'nom'}})}}
				{{form_errors(editForm.name)}}
			</div>
		</div>
	


	<div class="__col  __col--half">
		<div class="input__container profile__name">
			{{form_label(editForm.nickname,' ')}}
			{{form_widget(editForm.nickname,{'attr':{'placeholder':'prénom'}})}}
			{{form_errors(editForm.nickname)}}
		</div>
	</div>

	<div class="__col  __col--half">
		<div class="input__container ">
			{{form_label(editForm.login,' ')}}
			{{form_widget(editForm.login,{'attr':{'placeholder':'pseudo'}})}}
			{{form_errors(editForm.login)}}
		</div>
	</div>

	<div class="__col  __col--half">
		<div class="input__container ">
			{{form_label(editForm.email,' ')}}
			{{form_widget(editForm.email,{'attr':{'placeholder':'email'}})}}
			{{form_errors(editForm.email)}}
		</div>
	</div>

	<div class="__col  __col--half">
		<div class="input__container ">
			{{form_label(editForm.department,' ')}}
			{{form_widget(editForm.department,{'attr':{'placeholder':'département'}})}}
			{{form_errors(editForm.department)}}
		</div>
	</div>

	<div class="__col  __col--half">
		<div class="input__container ">
			{{form_label(editForm.promo,' ')}}
			{{form_widget(editForm.promo,{'attr':{'placeholder':'promotion'}})}}
			{{form_errors(editForm.promo)}}
		</div>
	</div>
	<div class="__col  __col--half">
		<div class="input__container ">
			{{form_label(editForm.expression,' ')}}
			{{form_widget(editForm.expression,{'attr':{'placeholder':'expression'}})}}
			{{form_errors(editForm.expression)}}
		</div>
	</div>

	<div class="__col  __col--half">
		<div class="input__container ">
			{{form_label(editForm.gender,' ')}}
			{{form_widget(editForm.gender,{'attr':{'placeholder':'sexe'}})}}
			{{form_errors(editForm.gender)}}
		</div>
	</div>


	{# Pour l'affichage hobbies #}
	<div class="__col  __col--half ">
		<div class="input__container ">
			<h3>Passions</h3>
			<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
			<script>
			$(document).ready(function() {
			var max_fields      = 10; //maximum input boxes allowed
			var wrapper         = $(".input_fields_wrap"); //Fields wrapper
			var add_button      = $(".add_field_button"); //Add button ID

			var x = 1; //initlal text box count


			$(add_button).click(function(e){ //on add input button click
			e.preventDefault();
			if(x < max_fields){ //max input box allowed

			//text box increment
			$(wrapper).append('<div><input type="text" name="hobbies[] placeholder="Passion""/><a href="#" class="remove_field">Supprimer</a></div>'); //add input box
			x++; 
			}
			});

			$(wrapper).on("click",".remove_field", function(e){ //user click on remove text

			e.preventDefault(); 
			$(this).parent('div').remove(); 
			x--;
			})
			});

			</script>

			<button class="add_field_button">Ajouter une passion</button>
			<div class="input_fields_wrap">
				{% for item in user.hobbie %}	
				<div>
					<input type="text" name="hobbies[]" placeholder="Passion" value="{{ item }}" >
					<a href="#" class="remove_field">Supprimer</a>
				</div>
				{% endfor %}
			</div>
		</div>
		</div>
	



	{# Pour l'affichage Ecole/formations #}

	<div class="__col  __col--half">
		<div class="input__container">
			<h3>Ecole/formations</h3>
			<script>
			$(document).ready(function() {
			var max_fields      = 10; //maximum input boxes allowed
			var wrapper         = $(".input_fields_wrap2"); //Fields wrapper
			var add_button      = $(".add_field_button2"); //Add button ID

			var x = 1; //initlal text box count


			$(add_button).click(function(e){ //on add input button click
			e.preventDefault();
			if(x < max_fields){ //max input box allowed

			//text box increment
			$(wrapper).append('<div><input type="text" name="school_curriculum[] placeholder="Ecole ou formation""/><a href="#" class="remove_field">Supprimer</a></div>'); //add input box
			x++; 
			}
			});

			$(wrapper).on("click",".remove_field", function(e){ //user click on remove text

			e.preventDefault(); 
			$(this).parent('div').remove(); 
			x--;
			})
			});

			</script>
			<body>
				<div class="input_fields_wrap2">
					<button class="add_field_button2">Ajouter une école</button>
					{% for item in user.schoolCurriculum %}	
						<div>
							<input type="text" name="school_curriculum[]" placeholder="Ecole ou formation" value="{{ item }}">
							<a href="#" class="remove_field">Supprimer</a>
						</div>
					{% endfor %}
				</div>
			</body>
		</div>
	</div>


	{# Pour l'affichage Entreprises #}
	<div class="__col  __col--half">
		<div class="input__container">
			<h3>Entreprises/Stages</h3>
			<script>
			$(document).ready(function() {
			var max_fields      = 10; //maximum input boxes allowed
			var wrapper         = $(".input_fields_wrap1"); //Fields wrapper
			var add_button      = $(".add_field_button1"); //Add button ID

			var x = 1; //initlal text box count


			$(add_button).click(function(e){ //on add input button click
			e.preventDefault();
			if(x < max_fields){ //max input box allowed

			//text box increment
			$(wrapper).append('<div><input type="text" name="career[] placeholder="Entreprises ou un Stage""/><a href="#" class="remove_field">Supprimer</a></div>'); //add input box
			x++; 
			}
			});

			$(wrapper).on("click",".remove_field", function(e){ //user click on remove text

			e.preventDefault(); 
			$(this).parent('div').remove(); 
			x--;
			})
			});

			</script>
			<body>
				<div class="input_fields_wrap1">
					<button class="add_field_button1">Ajouter une Entreprise</button>
					{% for item in user.career %}	
					<div>
						<input type="text" name="career[]" placeholder="Entreprises ou un Stage" value="{{ item }}">
						<a href="#" class="remove_field">Supprimer</a>
					</div>
					{% endfor %}

				</div>
			</body>
		</div>
	</div>

	<div class="__col  ">
		<div class="input__container input__containerButton">
			{{form_widget(editForm.Modifier_le_profil)}}
		</div>
	</div>
	{{form_end(editForm)}}

</div>

	<div class="__row">
		{# Formulaire modification mot de passe #}
		{{form_start(pwdForm)}}
			<div class="__col  __col--half">
				<div class="input__container">
					{{form_label(pwdForm.oldPassword,'Ancien mot de passe')}}
					{{form_widget(pwdForm.oldPassword)}}
					{{form_errors(pwdForm.oldPassword)}}
				</div>
			</div>
			<div class="__col  __col--half">
				<div class="input__container">
					{{form_label(pwdForm.password.first,'Nouveau mot de passe')}}
					{{form_widget(pwdForm.password.first)}}
					{{form_errors(pwdForm.password.first)}}
				</div>
			</div>
			<div class="__col  __col--half">
				<div class="input__container">
					{{form_label(pwdForm.password.second,'Confirmation du nouveau mot de passe')}}
					{{form_widget(pwdForm.password.second)}}
					{{form_errors(pwdForm.password.second)}}
				</div>
			</div>

			<div class="__col  ">
				<div class="input__container input__containerButton">
					{{form_widget(pwdForm.Modifier_le_mot_de_passe)}}
				</div>
			</div>
		{{form_end(pwdForm)}}
	</div>
{% endblock %}
